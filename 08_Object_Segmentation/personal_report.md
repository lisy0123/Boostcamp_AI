# Trash Object Segmentation

> 글을 읽기에 앞서, 이번 대회는 3주 중, 4일 밖에 참여하지 못해 이전과 달리 회고글 형식으로 작성하였음을 미리 명시한다.



지금까지 부스트캠프를 진행하면서 총 3개의 대회를 참여했었는데, 대회마다 각기 다른 생각과 목표를 가지고 참여했던 것 같다. Image Classification는 첫번째 대회인만큼 AI에 대한 이해와 부스트캠프 적응에 집중했었고, Object Detection는 첫 대회에서의 아쉬웠던, 리더보드 점수를 신경쓰느라 시도하지 못했던 다양한 model, loss, pseudo, wandb sweep, 등을 사용하고 스스로 정의해보는데 집중했었다. 개인적으로는 두번쨰 대회에서 첫번째 대회보다 더 많은 지식과 경험을 쌓을 수 있었던 것 같다.

마지막 이번 대회에서는 첫번째 대회에서의 또 다른 아쉬웠던 점이었던 코드 리펙토링 부분(당시 시간부족으로 급하게 진행했었다.)과 두번째 대회에서 사용했던 mmdetection이나, yolov5 코드에서 받았던 인상 깊었던 점(깔끔한 코드 구성과 손쉬운 모델링을 도와주는 다양한 기능들)에 집중했었다. 조금 더 자세하게 말하자면, 3주 중 1, 2주차에는 관련 sota 논문들이나 loss(Dice, DiceCE, DiceFocal), optimizer(MADGRAD)들을 찾아보기만 했었고, 마지막 주 월요일에 들어서야 본격적인 무언가를 시작할 수 있었다. 시간도 쪽박하다 보니, 시간 내에 달성할 수 있는 가성능 있는 목표를 세우고자 했고, 자연스럽게 두 번의 대회에서의 아쉬웠던 점에 집중하기 된 것 같다. 이 때, 이미 팀 내 리더보드 점수가 상위권에 들어가 있었기에, 할 수 있었던 생각이던 것 같다. 

물론 여전히 성에 차지는 않지만, 적어도 처음 세웠던 목표(1. 깔끔한 모듈화 / 2. 파일 한 개당 250줄 넘지 않기 / 3. 가장 바깥에는 train.py, inference.py만 남기고 bash script로 모든 것을 컨트롤할 수 있게 만들기 / 4. augmix, pseudo, crf, tta 구현)는 달성한 것 같다. 아쉬웠던 점을 크게 SoftCE 추가 안 된 점, bash로 코드 수정까지 가능하게 만들 생각이었는데 시간에 쫒기다가 빼먹었다는 점, augmix 부분을 기본 코드에 적용시키지 못한 점이다. 원래라면 기존 코드를 이해하고 직접 augmix를 추가하는 방향으로 진행했어야 했는데, 이처럼 한다면 augmix만 구현하다 남은 4일이 다 지나갈 것 같아서 빠르게 augmix 부분을 내 코드에 맞춰 구현하고 코드를 공유해드리는 방식으로 진행했었다. 

그리고, 리더보드의 스코어가 많이 shake up되었던데, 이는 class imbalance 문제를 잡지 못했기 때문이라고 봤다. 우선 public과 private dataset에서 상대적으로 숫자가 적었던 배터리와 옷 class가 균등하게 나눠지지 않아, mIoU의 특성을 고려했을 때, public과 private의 스코어 상승 및 하락이 가끔 반비례로 움직일 수 있었겠다고 예상했다. 이는 마스터 클래스의 멘토님 팩트를 들으면서 가설을 확인받는 좋은 경험을 할 수 있었다. 미리 augmix 부분을 구현해서 augmix로 배터리와 옷을 따와 데이터를 더 불리고, 보다 배터리를 잘 잡아내던 unet++ 모델에 적용해 돌린 다음, 성능 잘 나왔던 모델과 앙상블했다면 shake up이 적었을 것으로 예상된다. 이 부분에 대해 랜덤 피어세션에서 토의한 결과, 위처럼 진행했다면 충분히 안정적인 성능을 낼 수 있었음을 확인받을 수 있었다. 

이러한 아쉬움이 있었기에 지금 다시 생각해보면 잘 선택한 것인가 싶기도 하지만, 두 마리 토끼는 다 잡을 수 없는 상황이었기에 어쩔 수 없었다. 1주일 정도 시간이 더 있었으면 하는 아쉬움도 있지만, 적어도 후회없는 선택을 한 것 같아서 이에 그만 만족하고 다음 스탭을 밟으려 한다. 이제는 모델링을 하기 보다는 그 주변에 살을 붙히는 공부를 하는 것 같은데, 다시 초심으로 돌아가서 기본기에 집중할 생각이다. 그 동안 밀린 논문들도 읽고 부족했던 부분들을 메꿔나가는 동시에 새로운 것을 배워나가는 시간이 될 것 같다.



> [**Reference sites**](https://github.com/lisy0123/Boostcamp_AI_Tech/blob/main/08_Object_Segmentation/reference.md) / [**Personal repo**](https://github.com/boostcampaitech2/semantic-segmentation-level2-cv-18/tree/LSE)



[↩️ Go Back](https://github.com/lisy0123/Boostcamp_AI_Tech)
